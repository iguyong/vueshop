import{_,c as d,o as r,a as u,b as m,t as p,n as f,d as h,m as y,u as S,w as b,v as g,e as k,f as V,r as C,g as M,h as w,i as x,j as l,F as B,k as $,l as I}from"./index-CpBY9jPP.js";const L={key:0,class:"sale-badge"},T={__name:"ProductItem",props:{product:{type:Object,required:!0}},emits:["add-to-cart"],setup(o,{emit:e}){const s=e;return(a,t)=>(r(),d("div",{class:h(["product-item",{"on-sale":o.product.onSale}]),style:f({borderColor:o.product.onSale?"red":"#ccc"})},[u("h3",null,p(o.product.name),1),u("p",null,"价格：¥"+p(o.product.price.toFixed(2)),1),o.product.onSale?(r(),d("p",L,"促销中！")):m("",!0),u("button",{onClick:t[0]||(t[0]=n=>s("add-to-cart",o.product))},"加入购物车")],6))}},F=_(T,[["__scopeId","data-v-0557f983"]]),N={__name:"SearchBar",props:{modelValue:{},modelModifiers:{}},emits:y(["search"],["update:modelValue"]),setup(o,{emit:e}){const s=S(o,"modelValue");return(a,t)=>(r(),d("form",{class:"search-form",onSubmit:t[1]||(t[1]=k(n=>a.$emit("search"),["prevent"]))},[b(u("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>s.value=n),placeholder:"请输入产品名称搜索"},null,512),[[g,s.value]]),t[2]||(t[2]=u("button",{type:"submit"},"搜索",-1))],32))}},j=_(N,[["__scopeId","data-v-4872474c"]]),z={key:0,class:"loading"},D={key:1,class:"error"},H={key:2,class:"no-results"},P={class:"product-grid"},U={__name:"Home",setup(o){const e=V(),s=C("");let a=M({products:[]});w(()=>{a.products=e.products});const t=c=>{e.addToCart(c)},n=()=>{s.value==""?a.products=e.products:a.products=e.products.filter(c=>c.name.toLowerCase().includes(s.value.toLowerCase()))};return(c,v)=>(r(),d("div",null,[x(j,{modelValue:s.value,"onUpdate:modelValue":v[0]||(v[0]=i=>s.value=i),modelModifiers:{trim:!0},onSubmit:n},null,8,["modelValue"]),l(e).isLoading?(r(),d("p",z,"加载中...")):m("",!0),l(e).error?(r(),d("p",D,p(l(e).error),1)):m("",!0),!l(e).isLoading&&l(a).products.length===0?(r(),d("p",H," 没有找到相关产品！ ")):m("",!0),u("div",P,[(r(!0),d(B,null,$(l(a).products,i=>(r(),I(F,{key:i.id,product:i,onAddToCart:t},null,8,["product"]))),128))])]))}},A=_(U,[["__scopeId","data-v-c70b50c5"]]);export{A as default};
