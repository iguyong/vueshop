import{_,c as d,o as s,a as n,b as m,t as p,n as f,d as h,m as y,u as b,w as g,v as k,e as V,r as C,f as S,g as M,s as a,h as w,i as u,F as x,j as B,k as $}from"./index-DrrbIbME.js";const I={key:0,class:"sale-badge"},L={__name:"ProductItem",props:{product:{type:Object,required:!0}},emits:["add-to-cart"],setup(o,{emit:l}){const t=l;return(c,e)=>(s(),d("div",{class:h(["product-item",{"on-sale":o.product.onSale}]),style:f({borderColor:o.product.onSale?"red":"#ccc"})},[n("h3",null,p(o.product.name),1),n("p",null,"价格：¥"+p(o.product.price.toFixed(2)),1),o.product.onSale?(s(),d("p",I,"促销中！")):m("",!0),n("button",{onClick:e[0]||(e[0]=r=>t("add-to-cart",o.product))},"加入购物车")],6))}},T=_(L,[["__scopeId","data-v-0557f983"]]),F={__name:"SearchBar",props:{modelValue:{},modelModifiers:{}},emits:y(["search"],["update:modelValue"]),setup(o,{emit:l}){const t=b(o,"modelValue");return(c,e)=>(s(),d("form",{class:"search-form",onSubmit:e[1]||(e[1]=V(r=>c.$emit("search"),["prevent"]))},[g(n("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.value=r),placeholder:"请输入产品名称搜索"},null,512),[[k,t.value]]),e[2]||(e[2]=n("button",{type:"submit"},"搜索",-1))],32))}},N=_(F,[["__scopeId","data-v-4872474c"]]),j={key:0,class:"loading"},z={key:1,class:"error"},D={key:2,class:"no-results"},H={class:"product-grid"},P={__name:"Home",setup(o){const l=C("");let t=S({products:[]});M(()=>{t.products=a.products});const c=r=>{a.addToCart(r)},e=()=>{l.value==""?t.products=a.products:t.products=a.products.filter(r=>r.name.toLowerCase().includes(l.value.toLowerCase()))};return(r,v)=>(s(),d("div",null,[w(N,{modelValue:l.value,"onUpdate:modelValue":v[0]||(v[0]=i=>l.value=i),modelModifiers:{trim:!0},onSubmit:e},null,8,["modelValue"]),u(a).isLoading?(s(),d("p",j,"加载中...")):m("",!0),u(a).error?(s(),d("p",z,p(u(a).error),1)):m("",!0),!u(a).isLoading&&u(t).products.length===0?(s(),d("p",D," 没有找到相关产品！ ")):m("",!0),n("div",H,[(s(!0),d(x,null,B(u(t).products,i=>(s(),$(T,{key:i.id,product:i,onAddToCart:c},null,8,["product"]))),128))])]))}},q=_(P,[["__scopeId","data-v-1504116b"]]);export{q as default};
